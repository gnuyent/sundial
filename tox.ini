[tox]
envlist = test
skipsdist = True

[flake8]
docstring-convention = numpy
# Match black line length.
max-line-length = 88
ignore =
    D100,
    W503

# D100 - Missing docstring in public module
# Modules are fairly obvious by name.
# W503 - Line break occurred before a binary operator
# Allow black to format without flake8 errors.

[isort]
profile = black

[testenv:test]
usedevelop = False
deps =
    -rrequirements.txt 
    isort
    pytest
    pytest-flake8
    pytest-mypy
    flake8-docstrings
commands =
    isort --check-only --diff sundial tests
    pytest --basetemp="{toxinidir}/sundial" {posargs}
    pytest --flake8 --mypy-ignore-missing-imports --basetemp="{envtmpdir}" {posargs}

[testenv:dev]
basepython = python3.8
deps =
    -rrequirements.txt
    black
    flake8
    isort
    mypy
